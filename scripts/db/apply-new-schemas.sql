-- ============================================
-- –ü–†–ò–ú–ï–ù–ï–ù–ò–ï –í–°–ï–• –ù–û–í–´–• –°–•–ï–ú
-- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: psql $DATABASE_URL -f scripts/apply-new-schemas.sql
-- ============================================

\echo 'üöÄ –ù–∞—á–∏–Ω–∞–µ–º –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å—Ö–µ–º...'
\echo ''

-- –í–∫–ª—é—á–∞–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
CREATE EXTENSION IF NOT EXISTS postgis;

\echo '‚úì –†–∞—Å—à–∏—Ä–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã'
\echo ''

-- ============================================
-- 1. SOUVENIR SHOP
-- ============================================
\echo 'üì¶ –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü Souvenir Shop...'
\ir ../lib/database/souvenirs_schema.sql

-- ============================================
-- 2. GEAR RENTAL
-- ============================================
\echo 'üéí –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü Gear Rental...'
\ir ../lib/database/gear_schema.sql

-- ============================================
-- 3. CAR RENTAL
-- ============================================
\echo 'üöó –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü Car Rental...'
\ir ../lib/database/cars_schema.sql

-- ============================================
-- 4. AGENT PANEL
-- ============================================
\echo 'üë®‚Äçüíº –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü Agent Panel...'
\ir ../lib/database/agent_schema.sql

-- ============================================
-- 5. ADMIN PANEL –î–û–ü–û–õ–ù–ï–ù–ò–Ø
-- ============================================
\echo 'üëë –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü Admin Panel...'
\ir ../lib/database/admin_schema.sql

-- ============================================
-- 6. TRANSFER OPERATOR
-- ============================================
\echo 'üöê –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü Transfer Operator...'
\ir ../lib/database/transfer_operator_schema.sql

\echo ''
\echo '‚úÖ –í–°–ï –°–•–ï–ú–´ –£–°–ü–ï–®–ù–û –ü–†–ò–ú–ï–ù–ï–ù–´!'
\echo ''

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü
SELECT 
  schemaname,
  tablename
FROM pg_tables
WHERE schemaname = 'public'
ORDER BY tablename;

\echo ''
\echo 'üìä –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü –≤—ã—à–µ ‚Üë'

