# üìÖ –ö–ê–õ–ï–ù–î–ê–†–ò –ë–†–û–ù–ò–†–û–í–ê–ù–ò–Ø - –ü–û–õ–ù–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!**

---

## üéâ –ß–¢–û –°–û–ó–î–ê–ù–û

### ‚úÖ 9 –ö–û–ú–ü–û–ù–ï–ù–¢–û–í (2000+ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞!)

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ | –°—Ç–∞—Ç—É—Å |
|-----------|------------|--------|
| **BaseCalendar.tsx** | 150 | ‚úÖ |
| **StayDatePicker.tsx** | 300 | ‚úÖ |
| **TourDatePicker.tsx** | 350 | ‚úÖ |
| **TransferDateTimePicker.tsx** | 400 | ‚úÖ |
| **GuestSelector.tsx** | 200 | ‚úÖ |
| **AvailabilityIndicator.tsx** | 80 | ‚úÖ |
| **TimeSlotPicker.tsx** | 150 | ‚úÖ |
| **calendar-utils.ts** | 350 | ‚úÖ |
| **calendar.module.css** | 600 | ‚úÖ |

**–ò–¢–û–ì–û: 2580+ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞!** üöÄ

---

## üì¶ –®–ê–ì 1: –£–°–¢–ê–ù–û–í–ö–ê –ü–ê–ö–ï–¢–û–í

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
npm install react-datepicker date-fns clsx react-hot-toast @types/react-datepicker
```

**–ò–õ–ò** –µ—Å–ª–∏ PowerShell –±–ª–æ–∫–∏—Ä—É–µ—Ç:

```bash
cmd /c "npm install react-datepicker date-fns clsx react-hot-toast @types/react-datepicker"
```

---

## ‚úÖ –®–ê–ì 2: –°–¢–†–£–ö–¢–£–†–ê –£–ñ–ï –°–û–ó–î–ê–ù–ê!

–í—Å–µ —Ñ–∞–π–ª—ã —É–∂–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ:

```
‚úÖ components/booking/calendars/
   ‚îú‚îÄ‚îÄ BaseCalendar.tsx
   ‚îú‚îÄ‚îÄ StayDatePicker.tsx
   ‚îú‚îÄ‚îÄ TourDatePicker.tsx
   ‚îú‚îÄ‚îÄ TransferDateTimePicker.tsx
   ‚îú‚îÄ‚îÄ calendar.module.css
   ‚îî‚îÄ‚îÄ calendar-utils.ts

‚úÖ components/booking/ui/
   ‚îú‚îÄ‚îÄ GuestSelector.tsx
   ‚îú‚îÄ‚îÄ AvailabilityIndicator.tsx
   ‚îî‚îÄ‚îÄ TimeSlotPicker.tsx
```

---

## üöÄ –®–ê–ì 3: –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï

### 1Ô∏è‚É£ –û–¢–ï–õ–ò - StayDatePicker

**app/accommodations/[id]/page.tsx:**

```typescript
'use client';

import { StayDatePicker } from '@/components/booking/calendars/StayDatePicker';
import { useState } from 'react';

export default function HotelPage() {
  const [dates, setDates] = useState({ checkIn: null, checkOut: null });
  const [pricing, setPricing] = useState(null);

  const handleDatesChange = (checkIn, checkOut, pricingData) => {
    setDates({ checkIn, checkOut });
    setPricing(pricingData);
    console.log('–î–∞—Ç—ã –≤—ã–±—Ä–∞–Ω—ã:', checkIn, checkOut);
    console.log('–¶–µ–Ω–∞:', pricingData?.total);
  };

  return (
    <div className="max-w-4xl mx-auto p-6">
      <h1 className="text-3xl font-bold text-white mb-8">
        –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–º–µ—Ä
      </h1>

      <StayDatePicker
        accommodationId="hotel-123"
        pricePerNight={3450}
        minNights={2}
        onDatesChange={handleDatesChange}
        showPriceBreakdown={true}
        enableAvailabilityCheck={true}
      />

      {pricing && (
        <button className="mt-6 w-full py-4 bg-premium-gold text-premium-black font-bold rounded-xl">
          –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∑–∞ {pricing.total.toLocaleString()} ‚ÇΩ
        </button>
      )}
    </div>
  );
}
```

---

### 2Ô∏è‚É£ –¢–£–†–´ - TourDatePicker

**app/tours/[id]/booking/page.tsx:**

```typescript
'use client';

import { TourDatePicker } from '@/components/booking/calendars/TourDatePicker';
import { GuestSelector } from '@/components/booking/ui/GuestSelector';
import { useState } from 'react';

export default function TourBookingPage() {
  const [selectedDate, setSelectedDate] = useState(null);
  const [timeSlot, setTimeSlot] = useState(null);
  const [guests, setGuests] = useState({ adults: 2, children: 0 });

  const handleDateSelect = (date, slot) => {
    setSelectedDate(date);
    setTimeSlot(slot);
  };

  const handleGuestsChange = (adults, children) => {
    setGuests({ adults, children });
  };

  return (
    <div className="max-w-4xl mx-auto p-6">
      <h1 className="text-3xl font-bold text-white mb-8">
        –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ç—É—Ä
      </h1>

      {/* –í—ã–±–æ—Ä –¥–∞—Ç—ã */}
      <div className="mb-8">
        <TourDatePicker
          tourId="tour-456"
          tourType="group" // –∏–ª–∏ "individual"
          duration={5}
          onDateSelect={handleDateSelect}
        />
      </div>

      {/* –í—ã–±–æ—Ä —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ */}
      {selectedDate && (
        <div className="mb-8">
          <h2 className="text-xl font-bold text-white mb-4">
            –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
          </h2>
          <GuestSelector
            maxGuests={12}
            onChange={(adults, children) => handleGuestsChange(adults, children)}
          />
        </div>
      )}

      {/* –ö–Ω–æ–ø–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è */}
      {selectedDate && (
        <button className="w-full py-4 bg-premium-gold text-premium-black font-bold rounded-xl">
          –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ç—É—Ä
        </button>
      )}
    </div>
  );
}
```

---

### 3Ô∏è‚É£ –¢–†–ê–ù–°–§–ï–†–´ - TransferDateTimePicker

**app/transfers/booking/page.tsx:**

```typescript
'use client';

import { TransferDateTimePicker } from '@/components/booking/calendars/TransferDateTimePicker';
import { GuestSelector } from '@/components/booking/ui/GuestSelector';
import { useState } from 'react';

export default function TransferBookingPage() {
  const [booking, setBooking] = useState(null);

  const handleScheduleSelect = (scheduleId, date, schedule) => {
    setBooking({ scheduleId, date, schedule });
    console.log('–†–µ–π—Å –≤—ã–±—Ä–∞–Ω:', schedule);
  };

  return (
    <div className="max-w-6xl mx-auto p-6">
      <h1 className="text-3xl font-bold text-white mb-8">
        –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä
      </h1>

      <TransferDateTimePicker
        routeId="route-789"
        fromLocation="–ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫-–ö–∞–º—á–∞—Ç—Å–∫–∏–π"
        toLocation="–î–æ–ª–∏–Ω–∞ –≥–µ–π–∑–µ—Ä–æ–≤"
        distance={180}
        onScheduleSelect={handleScheduleSelect}
      />

      {booking && (
        <div className="mt-8">
          <h2 className="text-xl font-bold text-white mb-4">
            –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤
          </h2>
          <GuestSelector
            maxGuests={booking.schedule.totalSeats}
            onChange={(adults, children) => {
              console.log('–ü–∞—Å—Å–∞–∂–∏—Ä—ã:', adults + children);
            }}
          />

          <button className="mt-6 w-full py-4 bg-premium-gold text-premium-black font-bold rounded-xl">
            –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∑–∞ {booking.schedule.price * (adults + children)} ‚ÇΩ
          </button>
        </div>
      )}
    </div>
  );
}
```

---

## üîå –®–ê–ì 4: –°–û–ó–î–ê–¢–¨ API ENDPOINTS

–ö–∞–ª–µ–Ω–¥–∞—Ä–∏ –≥–æ—Ç–æ–≤—ã, –Ω–æ –∏–º –Ω—É–∂–Ω—ã API! –°–æ–∑–¥–∞–π—Ç–µ —ç—Ç–∏ —Ñ–∞–π–ª—ã:

### –î–ª—è –æ—Ç–µ–ª–µ–π:

**app/api/accommodations/[id]/blocked-dates/route.ts:**

```typescript
import { NextRequest, NextResponse } from 'next/server';

export async function GET(
  request: NextRequest,
  { params }: { params: { id: string } }
) {
  // TODO: –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ –ë–î –∑–∞–Ω—è—Ç—ã–µ –¥–∞—Ç—ã
  const blockedDates = [
    '2024-01-18',
    '2024-01-19',
    '2024-01-25',
  ];

  return NextResponse.json({ blockedDates });
}
```

**app/api/accommodations/[id]/availability/route.ts:**

```typescript
import { NextRequest, NextResponse } from 'next/server';

export async function GET(
  request: NextRequest,
  { params }: { params: { id: string } }
) {
  const { searchParams } = new URL(request.url);
  const checkIn = searchParams.get('checkIn');
  const checkOut = searchParams.get('checkOut');

  // TODO: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤ –ë–î
  const available = true;

  return NextResponse.json({ 
    available,
    reason: available ? undefined : '–ù–æ–º–µ—Ä–∞ –∑–∞–Ω—è—Ç—ã'
  });
}
```

### –î–ª—è —Ç—É—Ä–æ–≤:

**app/api/tours/[id]/available-dates/route.ts:**

```typescript
import { NextRequest, NextResponse } from 'next/server';

export async function GET(
  request: NextRequest,
  { params }: { params: { id: string } }
) {
  // TODO: –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ –ë–î –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∞—Ç—ã
  const dates = [
    { date: '2024-06-10', available: 10, total: 12, price: 45000, weather: 'excellent' },
    { date: '2024-06-15', available: 3, total: 12, price: 45000, weather: 'windy' },
    { date: '2024-06-20', available: 12, total: 12, price: 45000, weather: 'good' },
  ];

  return NextResponse.json({ dates });
}
```

**app/api/tours/[id]/time-slots/route.ts:**

```typescript
import { NextRequest, NextResponse } from 'next/server';

export async function GET(
  request: NextRequest,
  { params }: { params: { id: string } }
) {
  const { searchParams } = new URL(request.url);
  const date = searchParams.get('date');

  // TODO: –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ –ë–î —Å–ª–æ—Ç—ã –≤—Ä–µ–º–µ–Ω–∏
  const slots = [
    {
      id: 'slot-1',
      time: '06:00',
      displayTime: '06:00 - 14:00 (–£—Ç—Ä–µ–Ω–Ω–∏–π —Ç—É—Ä)',
      available: 5,
      total: 8,
      price: 28000
    },
    {
      id: 'slot-2',
      time: '10:00',
      displayTime: '10:00 - 18:00 (–î–Ω–µ–≤–Ω–æ–π —Ç—É—Ä)',
      available: 3,
      total: 8,
      price: 28000
    },
  ];

  return NextResponse.json({ slots });
}
```

### –î–ª—è —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤:

**app/api/transfers/[id]/schedules/route.ts:**

```typescript
import { NextRequest, NextResponse } from 'next/server';

export async function GET(
  request: NextRequest,
  { params }: { params: { id: string } }
) {
  const { searchParams } = new URL(request.url);
  const date = searchParams.get('date');

  // TODO: –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ –ë–î —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
  const schedules = [
    {
      id: 'schedule-1',
      vehicleType: 'bus',
      vehicleModel: '–ü–ê–ó-4234',
      departureTime: '09:00',
      arrivalTime: '12:00',
      duration: 180,
      availableSeats: 12,
      totalSeats: 25,
      price: 2500,
      driver: { name: '–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤', rating: 4.9 },
      features: ['wifi', 'ac'],
    },
    {
      id: 'schedule-2',
      vehicleType: 'helicopter',
      vehicleModel: '–ú–∏-8',
      departureTime: '18:00',
      arrivalTime: '19:30',
      duration: 90,
      availableSeats: 6,
      totalSeats: 8,
      price: 8000,
      driver: { name: '–ê–ª–µ–∫—Å–µ–π –ö–æ–∑–ª–æ–≤', rating: 4.9 },
      features: ['vip', 'panoramic'],
      weatherDependent: true,
    },
  ];

  return NextResponse.json({ schedules });
}
```

---

## üé® –®–ê–ì 5: –ö–ê–°–¢–û–ú–ò–ó–ê–¶–ò–Ø (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)

### –ò–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç–∞:

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `components/booking/calendars/calendar.module.css`:

```css
:root {
  --calendar-bg: #0b0b0b;           /* –í–∞—à —Ñ–æ–Ω */
  --accent-gold: #E6C149;           /* –í–∞—à –∞–∫—Ü–µ–Ω—Ç */
  /* ... */
}
```

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê

### 1. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ª–∏ –ø–∞–∫–µ—Ç—ã?

```bash
npm list react-datepicker date-fns clsx react-hot-toast
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä:

```bash
npm run dev
```

### 3. –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É:

```
http://localhost:3000/accommodations/hotel-123
http://localhost:3000/tours/tour-456/booking
http://localhost:3000/transfers/booking
```

---

## üéØ –ß–¢–û –î–ê–õ–¨–®–ï?

### –ì–û–¢–û–í–û ‚úÖ
- ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–π
- ‚úÖ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ –£—Ç–∏–ª–∏—Ç—ã
- ‚úÖ –°—Ç–∏–ª–∏
- ‚úÖ TypeScript —Ç–∏–ø—ã

### –û–°–¢–ê–õ–û–°–¨ ‚è≥
- ‚è≥ API endpoints (–ø—Ä–∏–º–µ—Ä—ã –≤—ã—à–µ, –Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ –ë–î)
- ‚è≥ –§–æ—Ä–º—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–æ–ª–Ω—ã–µ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π)
- ‚è≥ CloudPayments –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚è≥ Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

---

## üí° –°–õ–ï–î–£–Æ–©–ò–ô –®–ê–ì

**–í–ê–†–ò–ê–ù–¢ A:** –°–æ–∑–¥–∞—Ç—å API endpoints (3-4—á)
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ë–î
- –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–º–µ—Å—Ç–æ –º–æ–∫–æ–≤

**–í–ê–†–ò–ê–ù–¢ B:** –°–æ–∑–¥–∞—Ç—å —Ñ–æ—Ä–º—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (4-5—á)
- StayBookingForm –¥–ª—è –æ—Ç–µ–ª–µ–π
- TourBookingForm –¥–ª—è —Ç—É—Ä–æ–≤
- TransferBookingForm –¥–ª—è —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤

**–í–ê–†–ò–ê–ù–¢ C:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ü–æ—Ñ–∏–∫—Å–∏—Ç—å –±–∞–≥–∏
- –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è

---

## üìä –ü–†–û–ì–†–ï–°–°

```
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 60%

‚úÖ –ö–∞–ª–µ–Ω–¥–∞—Ä–∏ –∏ UI                    [100%]
‚è≥ API endpoints                     [30%]  ‚Üê –ü—Ä–∏–º–µ—Ä—ã –µ—Å—Ç—å
‚è≥ –§–æ—Ä–º—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è                [0%]
‚è≥ –ü–ª–∞—Ç–µ–∂–∏ CloudPayments             [0%]
‚è≥ Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è                 [0%]
```

---

## üöÄ –ì–û–¢–û–í –ü–†–û–î–û–õ–ñ–ê–¢–¨!

**–ß—Ç–æ –¥–µ–ª–∞–µ–º –¥–∞–ª—å—à–µ?**

**A)** API endpoints  
**B)** –§–æ—Ä–º—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è  
**C)** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ  

**–ñ–¥—É —Ä–µ—à–µ–Ω–∏—è! üí™**



